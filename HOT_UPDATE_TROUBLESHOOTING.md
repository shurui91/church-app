# 热更新问题排查指南

## 问题：真机上看不到代码更新

### 可能原因

1. **本地缓存问题**（最可能）
   - 代码中有 24 小时缓存机制
   - 真机上可能还在使用旧的缓存数据

2. **热更新没有正确推送**
   - 更新可能推送到了错误的 channel
   - 更新可能没有成功发布

3. **应用版本不匹配**
   - runtimeVersion 策略可能导致更新不兼容

## 解决方案

### 方案 1：清除应用缓存（推荐）

在真机上清除应用缓存：
- **iOS**: 设置 → 通用 → iPhone 存储空间 → 找到应用 → 删除应用后重新安装
- **Android**: 设置 → 应用 → 找到应用 → 存储 → 清除数据

### 方案 2：更新缓存键版本

修改缓存键名称，强制清除旧缓存。代码会自动处理。

### 方案 3：验证热更新是否成功

1. 检查更新是否推送成功：
```bash
eas update:list --branch production
```

2. 查看更新详情：
```bash
eas update:view <update-id>
```

3. 手动触发更新检查：
   - 重启应用
   - 应用启动时会自动检查更新

### 方案 4：添加调试日志

在代码中添加日志，确认是否使用了新 URL。

## 快速修复：更新缓存键

修改缓存键名称，强制清除旧缓存。

